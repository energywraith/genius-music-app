{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/energ/Documents/GitHub/music-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/energ/Documents/GitHub/music-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/energ/Documents/GitHub/music-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{search}from'../../services/lyrics';import SearchResults from'./SearchResults';import{Container}from'./index.style';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBar=function SearchBar(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchInputValue=_useState2[0],setSearchInputValue=_useState2[1];var _useState3=useState({songs:[],artists:[],albums:[]}),_useState4=_slicedToArray(_useState3,2),results=_useState4[0],setResults=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),expanded=_useState6[0],setExpanded=_useState6[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(searchInputValue.length>0)){_context.next=7;break;}_context.next=3;return search(searchInputValue);case 3:response=_context.sent;setResults(response);_context.next=8;break;case 7:setResults({songs:[],artists:[],albums:[]});case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();// Timeout set to avoid overlapping requests\nvar timeoutId=setTimeout(function(){return fetchData();},250);return function(){return clearTimeout(timeoutId);};},[searchInputValue]);return/*#__PURE__*/_jsxs(Container,{onFocus:function onFocus(){return setExpanded(true);},onBlur:function onBlur(){return setExpanded(false);},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search a lyrics, name, album or author\",value:searchInputValue,onChange:function onChange(_ref2){var target=_ref2.target;return setSearchInputValue(target.value);},spellCheck:\"false\"}),/*#__PURE__*/_jsx(SearchResults,{results:results,expanded:expanded,setExpanded:setExpanded})]});};export default SearchBar;","map":{"version":3,"sources":["C:/Users/energ/Documents/GitHub/music-app/frontend/src/components/SearchBar/index.js"],"names":["useEffect","useState","search","SearchResults","Container","SearchBar","searchInputValue","setSearchInputValue","songs","artists","albums","results","setResults","expanded","setExpanded","fetchData","length","response","timeoutId","setTimeout","clearTimeout","target","value"],"mappings":"wfAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,MAAT,KAAuB,uBAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CAEA,OAASC,SAAT,KAA0B,eAA1B,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,cAAgDJ,QAAQ,CAAC,EAAD,CAAxD,wCAAOK,gBAAP,eAAyBC,mBAAzB,eACA,eAA8BN,QAAQ,CAAC,CAAEO,KAAK,CAAE,EAAT,CAAaC,OAAO,CAAE,EAAtB,CAA0BC,MAAM,CAAE,EAAlC,CAAD,CAAtC,yCAAOC,OAAP,eAAgBC,UAAhB,eACA,eAAgCX,QAAQ,CAAC,KAAD,CAAxC,yCAAOY,QAAP,eAAiBC,WAAjB,eAEAd,SAAS,CAAC,UAAM,CACd,GAAMe,CAAAA,SAAS,0FAAG,qJACbT,gBAAgB,CAACU,MAAjB,CAA0B,CADb,gDAEOd,CAAAA,MAAM,CAACI,gBAAD,CAFb,QAEVW,QAFU,eAGdL,UAAU,CAACK,QAAD,CAAV,CAHc,6BAKdL,UAAU,CAAC,CAAEJ,KAAK,CAAE,EAAT,CAAaC,OAAO,CAAE,EAAtB,CAA0BC,MAAM,CAAE,EAAlC,CAAD,CAAV,CALc,sDAAH,kBAATK,CAAAA,SAAS,0CAAf,CASA;AACA,GAAMG,CAAAA,SAAS,CAAGC,UAAU,CAAC,iBAAMJ,CAAAA,SAAS,EAAf,EAAD,CAAoB,GAApB,CAA5B,CACA,MAAO,kBAAMK,CAAAA,YAAY,CAACF,SAAD,CAAlB,EAAP,CACD,CAbQ,CAaN,CAACZ,gBAAD,CAbM,CAAT,CAeA,mBACE,MAAC,SAAD,EAAW,OAAO,CAAE,yBAAMQ,CAAAA,WAAW,CAAC,IAAD,CAAjB,EAApB,CAA6C,MAAM,CAAE,wBAAMA,CAAAA,WAAW,CAAC,KAAD,CAAjB,EAArD,wBACE,cACE,WAAW,CAAC,wCADd,CAEE,KAAK,CAAER,gBAFT,CAGE,QAAQ,CAAE,4BAAEe,CAAAA,MAAF,OAAEA,MAAF,OAAcd,CAAAA,mBAAmB,CAACc,MAAM,CAACC,KAAR,CAAjC,EAHZ,CAIE,UAAU,CAAC,OAJb,EADF,cAME,KAAC,aAAD,EAAe,OAAO,CAAEX,OAAxB,CAAiC,QAAQ,CAAEE,QAA3C,CAAqD,WAAW,CAAEC,WAAlE,EANF,GADF,CAUD,CA9BD,CAgCA,cAAeT,CAAAA,SAAf","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { search } from '../../services/lyrics'\r\nimport SearchResults from './SearchResults'\r\n\r\nimport { Container } from './index.style'\r\n\r\nconst SearchBar = () => {\r\n  const [searchInputValue, setSearchInputValue] = useState('')\r\n  const [results, setResults] = useState({ songs: [], artists: [], albums: [] })\r\n  const [expanded, setExpanded] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if(searchInputValue.length > 0) {\r\n        let response = await search(searchInputValue)\r\n        setResults(response)\r\n      } else {\r\n        setResults({ songs: [], artists: [], albums: [] })\r\n      }\r\n    }\r\n\r\n    // Timeout set to avoid overlapping requests\r\n    const timeoutId = setTimeout(() => fetchData(), 250)\r\n    return () => clearTimeout(timeoutId)\r\n  }, [searchInputValue])\r\n\r\n  return (\r\n    <Container onFocus={() => setExpanded(true)} onBlur={() => setExpanded(false)}>\r\n      <input\r\n        placeholder='Search a lyrics, name, album or author'\r\n        value={searchInputValue}\r\n        onChange={({target}) => setSearchInputValue(target.value)}\r\n        spellCheck='false' />\r\n      <SearchResults results={results} expanded={expanded} setExpanded={setExpanded} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SearchBar"]},"metadata":{},"sourceType":"module"}